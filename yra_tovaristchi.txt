SAVEVALUE CarsLoaded,0 ; Счётчик загруженных автомобилейSAVEVALUE CarsNotLoaded,0 ; Счётчик автомобилей, уехавших без груза; Генерация изделий типа AGENERATE 5,2 ; Поступление партии изделий типа A каждые 5 ± 2 минутыQUEUE StorageA,500 ; Добавляем 500 изделий на склад ATERMINATE; Генерация изделий типа BGENERATE 20,5 ; Поступление партии изделий типа B каждые 20 ± 5 минутQUEUE StorageB,2000 ; Добавляем 2000 изделий на склад BTERMINATE; Генерация автомобилейGENERATE 10,5 ; Прибытие автомобилей каждые 10 ± 5 минут; Проверка наличия изделийTEST GE Q$StorageA,1000,LeaveWithoutLoad ; Проверяем наличие 1000 изделий на складе ATEST GE Q$StorageB,1000,LeaveWithoutLoad ; Проверяем наличие 1000 изделий на складе B; Выбор незанятого докаGATE U Dock1,Do1GATE U Dock2,Do2GATE U Dock3,Do3; Работа 1 дока для погрузкиDo1 SEIZE Dock1 SAVEVALUE Tte+,1DEPART StorageA,1000 ; Убираем 1000 изделий со склада ADEPART StorageB,1000 ; Убираем 1000 изделий со склада BADVANCE 10,2 ; Время погрузки автомобиля (10 ± 2 минуты)RELEASE Dock1 ; Освобождаем место для погрузкиSAVEVALUE CarsLoaded+,1 ; Увеличиваем счётчик загруженных автомобилейTERMINATE 1; Работа 2 дока для погрузкиDo2 SEIZE Dock2DEPART StorageA,1000 ; Убираем 1000 изделий со склада ADEPART StorageB,1000 ; Убираем 1000 изделий со склада BADVANCE 10,2 ; Время погрузки автомобиля (10 ± 2 минуты)RELEASE Dock2 ; Освобождаем место для погрузкиSAVEVALUE CarsLoaded+,1 ; Увеличиваем счётчик загруженных автомобилейTERMINATE 1; Работа 3 дока для погрузкиDo3 SEIZE Dock3DEPART StorageA,1000 ; Убираем 1000 изделий со склада ADEPART StorageB,1000 ; Убираем 1000 изделий со склада BADVANCE 10,2 ; Время погрузки автомобиля (10 ± 2 минуты)RELEASE Dock3 ; Освобождаем место для погрузкиSAVEVALUE CarsLoaded+,1 ; Увеличиваем счётчик загруженных автомобилейTERMINATE 1; Автомобиль уезжает без грузаLeaveWithoutLoad SAVEVALUE CarsNotLoaded+,1 ; Увеличиваем счётчик автомобилей, уехавших без грузаTERMINATE START 50